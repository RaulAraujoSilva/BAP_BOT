<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BapGPT Condom√≠nios</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="chat-container">
        <!-- Header do Chat -->
        <div class="chat-header">
            <div class="logo">
                <img src="{{ url_for('static', filename='assets/robo_bap.jpeg') }}" alt="BapGPT Logo">
            </div>
            <div class="header-info">
                <h3>BapGPT Condom√≠nios</h3>
                <span class="status online">Online</span>
            </div>
            <div class="header-actions">
                <button class="btn-action" onclick="newConversation()" title="Nova Conversa">
                    <img src="{{ url_for('static', filename='assets/new_chat.jpg') }}" alt="Nova Conversa">
                </button>
                <button class="btn-action" onclick="toggleInfo()" title="Informa√ß√µes">
                    <img src="{{ url_for('static', filename='assets/Information.jpg') }}" alt="Informa√ß√µes">
                </button>
            </div>
        </div>

        <!-- √Årea de Mensagens -->
        <div class="chat-messages" id="chatMessages">
            <div class="welcome-message">
                <div class="welcome-card">
                    <div class="welcome-icon">
                        <img src="{{ url_for('static', filename='assets/robo_bap.jpeg') }}" alt="BapGPT Logo">
                    </div>
                    <h3>Ol√°! üëã Sou o BapGPT, seu assistente especializado em administra√ß√£o condominial!</h3>
                    <p>Baseado no Manual do S√≠ndico da ABADI, posso ajudar com:</p>
                    <ul>
                        <li>üè¢ Gest√£o condominial - estrutura, conven√ß√µes, regimentos</li>
                        <li>üë• Gest√£o de pessoas - contrata√ß√£o, direitos trabalhistas</li>
                        <li>üí∞ Finan√ßas - or√ßamentos, cotas, presta√ß√£o de contas</li>
                        <li>üîß Manuten√ß√£o - obras, autovistorias, reparos</li>
                        <li>üó≥Ô∏è Assembleias - convoca√ß√£o, vota√ß√£o, conflitos</li>
                        <li>‚öñÔ∏è Quest√µes legais - legisla√ß√£o, seguros, compliance</li>
                    </ul>
                    <p><strong>Como posso ajud√°-lo hoje com sua administra√ß√£o condominial?</strong></p>
                </div>
            </div>
        </div>

        <!-- Indicador de Digita√ß√£o -->
        <div class="typing-indicator" id="typingIndicator" style="display: none;">
            <div class="message bot-message">
                <div class="avatar">
                    <img src="{{ url_for('static', filename='assets/robo_bap.jpeg') }}" alt="BapGPT">
                </div>
                <div class="message-content">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- √Årea de Input -->
        <div class="chat-input">
            <div class="input-container">
                <div class="message-input-wrapper">
                    <textarea 
                        id="messageInput" 
                        placeholder="Digite sua mensagem..."
                        rows="1"
                        maxlength="1000"></textarea>
                    <div class="char-counter">
                        <span id="charCount">0</span>/1000
                    </div>
                </div>
                <button id="sendButton" onclick="sendMessage()" disabled>
                    <img src="{{ url_for('static', filename='assets/SetaSubmeter.png') }}" alt="Enviar">
                </button>
            </div>
        </div>

        <!-- Overlay e Painel de Informa√ß√µes -->
        <div class="info-overlay" id="infoOverlay">
            <div class="info-panel" id="infoPanel">
                <div class="info-header">
                    <h3>ü§ñ Sobre o BapGPT</h3>
                    <button class="btn-close" onclick="toggleInfo()" title="Fechar"></button>
                </div>
            <div class="info-content">
                <div class="info-section">
                    <h4>üîç Sobre este Assistente</h4>
                    <p>O BapGPT Condom√≠nios √© um assistente virtual baseado em <strong>OpenAI GPT-4</strong> que responde exclusivamente com base na base de conhecimento espec√≠fica fornecida sobre regulamentos, normas e procedimentos condominiais.</p>
                </div>

                <div class="info-section">
                    <h4>üìö Base de Conhecimento</h4>
                    <p>Este assistente foi treinado com informa√ß√µes espec√≠ficas sobre:</p>
                    <ul>
                        <li>‚Ä¢ Regulamentos internos do condom√≠nio</li>
                        <li>‚Ä¢ Procedimentos administrativos</li>
                        <li>‚Ä¢ Hor√°rios de funcionamento</li>
                        <li>‚Ä¢ Pol√≠ticas de uso de √°reas comuns</li>
                        <li>‚Ä¢ Normas de conviv√™ncia</li>
                    </ul>
                </div>

                <div class="info-section">
                    <h4>‚ö†Ô∏è Limita√ß√µes Importantes</h4>
                    <p><strong>Este assistente:</strong></p>
                    <ul>
                        <li>‚Ä¢ Responde APENAS com base na base de conhecimento fornecida</li>
                        <li>‚Ä¢ N√ÉO tem acesso a informa√ß√µes em tempo real</li>
                        <li>‚Ä¢ N√ÉO pode tomar decis√µes administrativas</li>
                        <li>‚Ä¢ N√ÉO substitui comunica√ß√£o oficial da administra√ß√£o</li>
                    </ul>
                </div>

                <div class="info-section disclaimer">
                    <h4>‚öñÔ∏è Disclaimer Legal</h4>
                    <p><strong>AVISO IMPORTANTE:</strong> Este assistente virtual √© uma ferramenta de apoio informativo. As respostas s√£o baseadas na base de conhecimento fornecida e podem conter inconsist√™ncias ou informa√ß√µes desatualizadas.</p>
                    
                    <p><strong>Limita√ß√£o de Responsabilidade:</strong></p>
                    <ul>
                        <li>‚Ä¢ As informa√ß√µes fornecidas n√£o constituem orienta√ß√£o legal</li>
                        <li>‚Ä¢ Para quest√µes oficiais, consulte sempre a administra√ß√£o</li>
                        <li>‚Ä¢ O sistema pode apresentar erros ou interpreta√ß√µes incorretas</li>
                        <li>‚Ä¢ Use as informa√ß√µes por sua conta e risco</li>
                    </ul>
                </div>

                <div class="info-technical">
                    <div class="info-item">
                        <strong>üîó Sess√£o:</strong>
                        <span id="sessionId">Carregando...</span>
                    </div>
                    <div class="info-item">
                        <strong>üìä Status:</strong>
                        <span class="status-indicator online">Conectado</span>
                    </div>
                    <div class="info-item">
                        <strong>üí¨ Mensagens:</strong>
                        <span id="messageCount">0</span>
                    </div>
                    <div class="info-item">
                        <strong>üöÄ Modelo:</strong>
                        <span>OpenAI GPT-4 (Assistant API)</span>
                    </div>
                    <div class="info-item">
                        <strong>üè¢ Desenvolvido por:</strong>
                        <span>BAP Condom√≠nios</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fechamento do Overlay de Informa√ß√µes -->
    </div>

    <!-- Overlay para fechar clicando fora do painel -->
    <script>
        document.getElementById('infoOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleInfo();
            }
        });
    </script>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html> 